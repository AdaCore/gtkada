Index: wimp_style.c
===================================================================
RCS file: /cvsroot/gtk-wimp/gtk-wimp/src/wimp_style.c,v
retrieving revision 1.36
diff -u -r1.36 wimp_style.c
--- wimp_style.c	7 Oct 2003 20:31:45 -0000	1.36
+++ wimp_style.c	14 Oct 2003 13:00:53 -0000
@@ -766,9 +766,10 @@
     }
   else
     {
-      if (xp_theme_draw(window,
-                        XP_THEME_ELEMENT_RADIO_BUTTON, style,
-                        x, y, width, height, state, area))
+      if (xp_theme_draw(window, shadow == GTK_SHADOW_IN
+                        ? XP_THEME_ELEMENT_PRESSED_RADIO_BUTTON
+                        : XP_THEME_ELEMENT_RADIO_BUTTON,
+                        style, x, y, width, height, state, area))
         {
         }
       else
@@ -1509,27 +1510,32 @@
 {
   XpThemeElement hndl;
 
-  if (!GTK_IS_HANDLE_BOX(widget)) {
-	  if (orientation == GTK_ORIENTATION_VERTICAL)
-	    hndl = XP_THEME_ELEMENT_GRIPPER_V;
-	  else
-	    hndl = XP_THEME_ELEMENT_GRIPPER_H;
-
-	  if (xp_theme_draw(window, hndl, style, x, y, width, height, state_type, area))
-	    {
-	      return;
-	    }
-	}
+  if (!GTK_IS_HANDLE_BOX(widget))
+    {
+      if (orientation == GTK_ORIENTATION_VERTICAL)
+	hndl = XP_THEME_ELEMENT_GRIPPER_V;
+      else
+	hndl = XP_THEME_ELEMENT_GRIPPER_H;
 
-  if (!GTK_IS_HANDLE_BOX(widget)) {
-    /* grippers are just flat boxes when they're not a toolbar */
-    parent_class->draw_box (style, window, state_type, shadow_type, area, widget,
-			    detail, x, y, width, height);
-  } else {
-    /* TODO: Draw handle boxes as double lines: || */
-    parent_class->draw_handle (style, window, state_type, shadow_type, area, widget,
-			       detail, x, y, width, height, orientation);
-  }
+      if (xp_theme_draw (window, hndl, style, x, y,
+			 width, height, state_type, area))
+	return;
+    }
+
+  if (!GTK_IS_HANDLE_BOX(widget))
+    {
+      /* grippers are just flat boxes when they're not a toolbar */
+      parent_class->draw_box
+	(style, window, state_type, shadow_type, area, widget,
+	 detail, x, y, width, height);
+    }
+  else
+    {
+      /* TODO: Draw handle boxes as double lines: || */
+      parent_class->draw_handle
+	(style, window, state_type, shadow_type, area, widget,
+	 detail, x, y, width, height, orientation);
+    }
 }
 
 static void
@@ -1561,7 +1567,7 @@
   style_class->draw_shadow = draw_shadow;
   style_class->draw_hline = draw_hline;
   style_class->draw_vline = draw_vline;
-  style_class->draw_handle = draw_handle;
+  /* style_class->draw_handle = draw_handle; */
 }
 
 GType wimp_type_style = 0;
Index: xp_theme.c
===================================================================
RCS file: /cvsroot/gtk-wimp/gtk-wimp/src/xp_theme.c,v
retrieving revision 1.21
diff -u -r1.21 xp_theme.c
--- xp_theme.c	7 Oct 2003 20:53:15 -0000	1.21
+++ xp_theme.c	14 Oct 2003 13:00:53 -0000
@@ -77,6 +77,7 @@
   SPNP_UP,
   SPNP_DOWN,
   BP_RADIOBUTTON,
+  BP_RADIOBUTTON,
   TVP_GLYPH,
   TVP_GLYPH,
   PP_CHUNK,
@@ -226,6 +227,7 @@
     case XP_THEME_ELEMENT_CHECKBOX:
     case XP_THEME_ELEMENT_BUTTON:
     case XP_THEME_ELEMENT_DEFAULT_BUTTON:
+    case XP_THEME_ELEMENT_PRESSED_RADIO_BUTTON:
     case XP_THEME_ELEMENT_RADIO_BUTTON:
       klazz = XP_THEME_CLASS_BUTTON;
       break;
@@ -469,6 +471,7 @@
         }
       break;
 
+    case XP_THEME_ELEMENT_PRESSED_RADIO_BUTTON:
     case XP_THEME_ELEMENT_PRESSED_CHECKBOX:
       switch(state)
         {
Index: xp_theme.h
===================================================================
RCS file: /cvsroot/gtk-wimp/gtk-wimp/src/xp_theme.h,v
retrieving revision 1.7
diff -u -r1.7 xp_theme.h
--- xp_theme.h	7 Oct 2003 19:58:28 -0000	1.7
+++ xp_theme.h	14 Oct 2003 13:00:53 -0000
@@ -67,6 +67,7 @@
   XP_THEME_ELEMENT_DEFAULT_BUTTON,
   XP_THEME_ELEMENT_SPIN_BUTTON_UP,
   XP_THEME_ELEMENT_SPIN_BUTTON_DOWN,
+  XP_THEME_ELEMENT_PRESSED_RADIO_BUTTON,
   XP_THEME_ELEMENT_RADIO_BUTTON,
   XP_THEME_ELEMENT_TREEVIEW_EXPANDER_OPENED,
   XP_THEME_ELEMENT_TREEVIEW_EXPANDER_CLOSED,
Index: xp_theme_defs.h
===================================================================
RCS file: /cvsroot/gtk-wimp/gtk-wimp/src/xp_theme_defs.h,v
retrieving revision 1.3
diff -u -r1.3 xp_theme_defs.h
--- xp_theme_defs.h	7 Oct 2003 19:08:52 -0000	1.3
+++ xp_theme_defs.h	14 Oct 2003 13:00:53 -0000
@@ -138,8 +138,8 @@
 #define UPS_PRESSED 3
 #define UPS_DISABLED 4
 
-#define GLPS_OPENED 1
-#define GLPS_CLOSED 2
+#define GLPS_CLOSED 1
+#define GLPS_OPENED 2
 
 #if UXTHEME_HAS_LINES
 
