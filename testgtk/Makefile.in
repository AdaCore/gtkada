SHELL = /bin/sh
@SET_MAKE@

.SUFFIXES:
.SUFFIXES: .c .o .ads .adb .ali

.PHONY:
.PHONY: clean-generic mostlyclean-generic \
	clean distclean mostlyclean maintainer-clean \
	force

target  = testgtk
src_dir = ../src

GTKADA_CONFIG=gtkada-config
GNATFLAGS = @CFLAGS@ -gnata
GNATFLAGS_DEVEL = @CFLAGS@ -g -gnatawu

GNATMAKE = gnatmake
GNATMAKELDFLAGS = -largs -L$(src_dir) @GTK_LIBS@ -lgtkada

all: $(target)

$(target): *.ad[sb]
	@echo "-------------------------------------"
	@echo $(GNATMAKE) $(GNATFLAGS) $(target) '`'$(GTKADA_CONFIG)'`'
	@echo "-------------------------------------"
	@if [ -f $(src_dir)/.devel ]; then \
	   $(GNATMAKE) $(GNATFLAGS_DEVEL) $(target) -I$(src_dir) -aO$(src_dir)/lib-obj -largs $(GNATMAKELDFLAGS); \
	else \
	   $(GNATMAKE) $(GNATFLAGS) $(target) -I$(src_dir) -largs $(GNATMAKELDFLAGS); \
	fi

install:
	@echo "Nothing to do --  just run the ./testgtk program"

clean:
	-${RM} *.o *.ali *~ testgtk b_testgtk.c b~testgtk.ad? core
	-${RM} .\#*

distclean: clean
	-${RM} Makefile

mostlyclean: clean
	-${RM} Makefile

maintainer-clean: clean
	-${RM} Makefile

force:

