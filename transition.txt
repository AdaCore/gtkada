This document describes how to transition from GtkAda 2.x to GtkAda 3.x.

General
=======

Gtk+ interfaces no longer require an explicit "with" of the interface
package, and a cast to the interface type (with "-" and "+"). Instead,
each package now contains the list of subprograms inherited from the
various interfaces.

Gdk.Bitmap
==========

This package has been removed: Cairo packages should be used for drawing, and
Gdk.Pixbuf for representing image data in memory.

Gdk.Cursor
==========

The Gdk_New function working on Gdk_Pixmap has been removed. Use
 Gdk.Pixbuf.Gdk_New_From_Pixbuf to create a cursor from a pixbuf.

Gdk.Drawable
============

All Draw_* subprograms have been removed: use Cairo for low-level drawing.

Gdk.Event
=========

Get_Region now returns a Cairo_Region: use Cairo.Region for manipulating
the result.

Set_Requestor/Get_Requestor now work on a Gdk_Window.

The APIs to Get_Message_Type, Set_Message_Type, Get_Data, and Set_Data have
been removed without replacement.

Get_Graphics_Expose and Send_Client_Message have been removed with no
replacement.

Gdk.Font
========

This package has been removed: use Pango.Font for fonts manipulation,
Cairo.Font_Face and Cairo.Font_Options for text rendering.

Gdk.GC
======

This package has been removed: Cairo packages should be used for drawing.

Gdk.Pixbuf
==========

Render_Threshold_Alpha, Render_To_Drawable, Render_To_Drawable_Alpha,
Render_Pixmap_And_Mask, Render_Pixmap_And_Mask_For_Colormap have been removed.

Use APIs provided by Gdk.Cairo to draw a pixbuf on a Gdk_Drawable.

Gdk.Pixmap
==========

This package has been removed: Cairo packages should be used for drawing, and
Gdk.Pixbuf for representing image data in memory.

Gdk.Region
==========

This package has been removed and replaced with Cairo_Region.

Gdk.RGB
=======

This package is deprecated in Gtk3. Use Pixmaps/Cairo for drawing, and
use Gdk.Pixbuf for offscreen image manipulation and rendering to drawables.

Instead of Gdk.Rgb.Get_Cmap, use Gtk.Widget.Get_Default_Colormap.

Gdk.Window_Attr
===============

Parameter "Colormap" has been removed from procedure Gdk_New. This parameter
 is no longer needed.

Set_Colormap and Get_Colormap should no longer be needed and have been removed
as well.

Gtk.Aspect_Frame
================

Direct accessors Get_Xalign, Get_Yalign and Get_Ratio have been removed:
instead, use the corresponding properties.

Gtk.Assistant
=============

The values in Gtk_Assistant_Page_Type were renamed for consistency,
removing their Gtk_ prefix.

Gtk.Clist
=========

This widget has been removed: use a Gtk.Tree_View instead.

Gtk.Color_Button
================

The function Get_Color returning Gdk.Color.Gdk_Color is now a procedure
with an out parameter.

Gtk.Color_Selection
===================

Get_Color and Set_Color have been removed: use Get_Current_Color and
Set_Current_Color instead.

Gtk.Color_Selection_Dialog
==========================

Subprogram Get_Colorsel has been renamed Get_Color_Selection, to match
the Gtk+ naming.

Get_OK_Button, Get_Cancel_Button, Get_Help_Button have been removed.
Instead, use:
   Gtk_Button (Glib.Properties.Get_Property (Dialog, Ok_Button_Property)),
   Gtk_Button (Glib.Properties.Get_Property (Dialog, Cancel_Button_Property)),
   Gtk_Button (Glib.Properties.Get_Property (Dialog, Help_Button_Property))

Gtk.Combo
=========

This widget has been removed: use a Gtk.Combo_Box instead.

Gtk.Combo_Box_Entry
===================

This widget has been removed: use a Gtk.Combo_Box instead.

Gtk.Ctree
=========

This widget has been removed: use a Gtk.Tree_View instead.

Gtk.Curve
=========

This widget has been removed, with no direct replacement.  Use drawing
functionality from Cairo instead.

Gtk.Dialog
==========

Subprogram Get_Vbox was replaced with Get_Content_Area.

Gtk.Dnd
=======

Source_Set_Icon now works with a Gdk_Pixbuf.
Set_Icon_Pixmap has been removed: use Set_Icon_Pixbuf instead.
Obsolete Set_Default_Icon working on Gdk.Pixmap has been removed without a
 replacement.

Gtk.File_Chooser_Button
=======================

Subprograms Gtk_New_With_Backend and Initialize_With_Backend have been
removed: use Gtk_New and Initialize instead.

Gtk.File_Chooser_Dialog
=======================

Subprograms Gtk_New_With_Backend and Initialize_With_Backend have been
removed: use Gtk_New and Initialize instead.

Gtk.File_Selection
==================

This package has been replaced by Gtk.File_Chooser.
You may also use Gtkada.File_Selection for a simple interface to the
Gtk.File_Chooser.

Gtk.Fixed
=========

Subprograms Set_Has_Windows and Get_Has_Windows are now in Gtk.Widget.

Gtk.HRuler
==========

This widget has been removed without any replacement.

Gtk.Gamma_Curve
===============

This widget has been removed without any replacement.

Gtk.GC
======

This package has been removed: Cairo packages should be used for drawing.

Gtk.Image
=========

The subprograms working with Gdk_Pixmap have been removed, use the
variants working on Gdk_Pixbuf instead.

Gtk.Layout
==========

Get_Width and Get_Height have been removed, use Get_Size instead.

Gtk.Link_Button
===============

All widget parameter names have been normalized to "Self".

The Set_Uri_Hook function has been eliminated, and along with it the
Uri_Func type and the Generic_Uri_Hook package.  Register a callback
for the button's "clicked" signal instead.

Gtk.Main
========

The Quit package has been removed without replacement.

The Idle and Timeout handling been removed: use equivalent functions in
package Glib.Main instead.

Gtk.Notebook
============

Get_Children has been removed: call Gtk.Container.Get_Children instead.

Gtk.List
========

This package has been removed: use a Gtk_Tree_View instead.

Gtk.Object
==========

Gtk.Object has been removed in Gtk+-3.

The following subprograms and declarations are now in Gtk.Widget:

    Flags
    Unset_Flags

    Floating
    In_Destruction_Is_Set

    Signal_Destroy

The subprogram Gtk.Object.Sink has been removed: use Glib.Object.Ref_Sink
 instead.

Gtk.Old_Editable
================

This obsolescent API has been removed, use Gtk.Editable where relevant.

Gtk.Pixmap
==========

This widget has been removed and is generally replaced with a Gtk.Image.

Gtk.Preview
===========

This widget has been removed without replacement.

Gtk.Progress
============

This widget has been removed without any replacement.

Gtk.Progress_Bar
================

This widget is now derived from Gtk.Widget directly, rather than from
Gtk.Progress (which has been removed).

The enumeration type Gtk_Progress_Bar_Orientation has been removed,
and this widget now implements the Gtk_Orientable interface.  To fully
achieve the same functionality as the GtkAda 2.x Get_Orientation/
Set_Orientation subprograms, it is now necessary to call
Get_Orientation/Set_Orientation along with Get_Inverted/Set_Inverted.

Procedure Set_Pulse_Step's "Step" parameter has been renamed to "Formal."

Set_Ellipsize and Get_Ellipsize parameter names have been normalized
from "Pbar" to "Progress_Bar".

Gtk.Ruler
=========

This widget has been removed without any replacement.

Gtk.Style
=========

All functions based on Gdk.GC or Gdk.Pixmap have been removed.
Use functions in Gtk.Style_Context instead.

Gtk.Text
========

This obsolescent API has been removed: use a Gtk.Text_View/Gtk.Text_Buffer
instead.

Gtk.Text_Attributes
===================

Set_Fg_Stipple, Get_Fg_Stipple, Set_Bg_Stipple, Get_Bg_Stipple have been
removed without a replacement.

Gtk.Text_View
=============

The functions Get/Set_Disable_Scroll_On_Focus have no effect in recent
versions of Gtk+ and have been removed.

Gtk.Toolbar
===========

Subprograms Append_*, Prepend_* and Insert_* have been removed: use Insert
instead.

Gtk.Tooltips
============

The package Gtk.Tooltips has been removed, in favor of Gtk.Tooltip.

For creating simple tooltips on all GtkAda widgets, the easiest is to use
Gtk.Widget.Set_Tooltip_Text or Gtk.Set_Tooltip_Markup.

Gtk.Tree_View
=============

Procedure Create_Row_Drag_Icon now returns a Cairo_Surface.

Gtk.VRuler
==========

This widget has been removed without any replacement.

Gtk.Widget
==========

Function Get_Snapshot has been removed without a replacement.

Hide_All has been removed: use Hide instead.

Set_Extension_Events and End_Extension_Events are no longer needed and have
been removed.

Set_Colormap and Get_Colormap are no longer needed and have been removed.

Set_Scroll_Adjustments has been removed without a replacement.

Shape_Combine_Mask, Input_Shape_Combine_Mask and Reset_Shapes have been removed
without replacements.

Set_Uposition has been removed: use the properties of the containing widget
to fix the position of contained widgets. The functions in Gtk.Window should
be used for top-level widgets.

Queue_Clear and Queue_Clear_Area have been removed, call Queue_Draw and
Queue_Draw_Area instead.

Gtk.Window
==========

Set_Has_Frame, Get_Has_Frame, Set_Frame_Dimensions, Get_Frame_Dimensions:
these special-purpose subprograms have been removed without replacement.

Get_Gravity, Set_Gravity: these have been removed, use the property
Gravity_Property instead.

Gnome.App_Bar
=============

Subprogram Appbar_Get_Progress has been removed without replacement.

Gnome.Gentry
============

This package has been removed without replacement.
