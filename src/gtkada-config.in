#!/bin/sh
# @configure_input@

prefix=@prefix@

gtk_libs="@GTK_LIBS@"
gtkada_libs="-largs -L@prefix@/include/gtkada -L@prefix@/lib"
gtkada_cflags="-I@prefix@/include/gtkada"
gtkada_lflags="-lgtkada"

usage()
{
        cat <<EOF
Usage: gtkada-config [OPTIONS]
Options:
        [--prefix]
        [--version|-v]
        [--libs]
        [--cflags]
        [--help|-h]
EOF
        exit $1
}

generic_output=1
while test $# -gt 0; do
  case "$1" in
  -*=*) optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) optarg= ;;
  esac

  case $1 in
    --help|-h)
      usage 1>&2
      exit 1
      ;;
    --static)
      gtkada_libs="-largs @prefix@/lib/libgtkada.a"
      gtk_conf_pre=`gtk-config --prefix`
      glib_conf_pre=`glib-config --prefix`
      my_gtk_flags=`gtk-config --libs | sed -e 's/-lglib//g' -e 's/-lgtk//g' -e 's/-lgdk//g'`
      gtk_libs="$gtk_conf_pre/lib/libgtk.a $gtk_conf_pre/lib/libgdk.a $glib_conf_pre/lib/libglib.a $my_gtk_flags"
      gtkada_lflags=""
      ;;  
    --prefix)
      echo $prefix
      generic_output=0
      ;;
    --version|-v)
      echo @GTKADA_VERSION@
      exit 1
      ;;
    --libs)
      echo $gtkada_libs $gtk_libs $gtkada_lflags
      generic_output=0
      ;;
    --cflags)
      echo $gtkada_cflags
      generic_output=0
      ;;
    *)
      usage 1>&2
      exit 1
      ;;
  esac
  shift
done

if [ $generic_output = 1 ]; then
    echo $gtkada_cflags $gtkada_libs $gtk_libs $gtkada_lflags
fi

